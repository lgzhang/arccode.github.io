<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Java | Arccode</title>
  <meta name="author" content="arccode">
  
  <meta name="description" content="Java Javascript bigdata 大数据 hadoop hive storm spark">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Arccode"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/img/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Arccode" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="/js/jquery.min.js"></script>
  
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52770645-1', 'arccode.net');
  ga('send', 'pageview');

</script>


</head>


<body>
  <!--[if lte IE 8]> <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'> <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0027_Simplified Chinese.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." style='margin-left:auto;margin-right:auto;display: block;'/></a></div> <![endif]-->
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Arccode</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">归档</a></li>
    
      <li><a href="/about">关于</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title category">Java</h2>


  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <time datetime="2015-02-07T02:21:53.000Z"><a href="/2015/02/07/MyBatis-Generator使用/">2015-02-07</a></time>
      
      
  
    <h1 class="title"><a href="/2015/02/07/MyBatis-Generator使用/">MyBatis-Generator使用</a></h1>
  

    </header>
    <div class="entry">
      
        <p>最近使用MyBatis开发项目, 为了快速开发, 发现了一个可快速生成mapper类和mapper配置文件及Model的插件-<code>MyBatis-Generator</code>, 总结下该插件的使用及最佳实践.</p>
<h2 id="需求">需求</h2>
<ol>
<li>为数据库中的表teacher生成Teacher.java, TeacherMapper.java, TeacherMapper.xml</li>
<li>由于该插件生成的TeacherMapper.java, TeacherMapper.xml会带有example, 不希望生成example</li>
<li>数据库中的字段写有注释, 希望注释能自动生成在Teacher.java中</li>
</ol>
<h2 id="实现">实现</h2>
<h3 id="实现需求一">实现需求一</h3>
<p>1&gt; 建表-teacher</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`test`</span>.<span class="string">`teacher`</span> (
	<span class="string">`id`</span> bigint <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">'主键id'</span>,
	<span class="string">`name`</span> <span class="keyword">varchar</span>(<span class="number">40</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span> COMMENT <span class="string">'名称'</span>,
	<span class="string">`age`</span> <span class="keyword">smallint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">'年龄'</span>,
	<span class="keyword">PRIMARY</span> <span class="keyword">KEY</span> (<span class="string">`id`</span>)
) COMMENT=<span class="string">'教师表'</span>;</span>
</pre></td></tr></table></figure>

<p>2&gt; 配置properties常量</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre><span class="preprocessor"># 数据库驱动jar 路径</span>
drive<span class="preprocessor">.class</span><span class="preprocessor">.path</span>=/Users/arccode/repo/mysql/mysql-connector-java/<span class="number">5.1</span><span class="number">.30</span>/mysql-connector-java-<span class="number">5.1</span><span class="number">.30</span><span class="preprocessor">.jar</span>

<span class="preprocessor"># 数据库连接参数</span>
jdbc<span class="preprocessor">.driver</span>=<span class="keyword">com</span><span class="preprocessor">.mysql</span><span class="preprocessor">.jdbc</span><span class="preprocessor">.Driver</span>
jdbc<span class="preprocessor">.url</span>=jdbc:mysql://localhost:<span class="number">3306</span>/test?useUnicode=true&characterEncoding=utf-<span class="number">8</span>
jdbc<span class="preprocessor">.username</span>=mysql
jdbc<span class="preprocessor">.password</span>=mysqlpwd

<span class="preprocessor"># 包路径配置</span>
model<span class="preprocessor">.package</span>=<span class="keyword">com</span><span class="preprocessor">.arccode</span><span class="preprocessor">.web</span><span class="preprocessor">.model</span>
dao<span class="preprocessor">.package</span>=<span class="keyword">com</span><span class="preprocessor">.arccode</span><span class="preprocessor">.web</span><span class="preprocessor">.dao</span>
xml<span class="preprocessor">.mapper</span><span class="preprocessor">.package</span>=<span class="keyword">com</span><span class="preprocessor">.arccode</span><span class="preprocessor">.web</span><span class="preprocessor">.dao</span>

target<span class="preprocessor">.project</span>=src/main/java
</pre></td></tr></table></figure>

<p>3&gt; 配置文件-generatorConfig.xml</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="code"><pre><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="doctype">&lt;!DOCTYPE generatorConfiguration
        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;</span>

<span class="tag">&lt;<span class="title">generatorConfiguration</span>&gt;</span>
    <span class="comment">&lt;!-- 配置文件路径 --&gt;</span>
    <span class="tag">&lt;<span class="title">properties</span> <span class="attribute">url</span>=<span class="value">"${mybatis.generator.generatorConfig.properties}"</span>/&gt;</span>

    <span class="comment">&lt;!--数据库驱动包路径 --&gt;</span>
    <span class="tag">&lt;<span class="title">classPathEntry</span> <span class="attribute">location</span>=<span class="value">"${drive.class.path}"</span>/&gt;</span>

    <span class="tag">&lt;<span class="title">context</span> <span class="attribute">id</span>=<span class="value">"DB2Tables"</span> <span class="attribute">targetRuntime</span>=<span class="value">"MyBatis3"</span>&gt;</span>
        <span class="comment">&lt;!--关闭注释 --&gt;</span>
        <span class="tag">&lt;<span class="title">commentGenerator</span>&gt;</span>
            <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"suppressDate"</span> <span class="attribute">value</span>=<span class="value">"true"</span>/&gt;</span>
        <span class="tag">&lt;/<span class="title">commentGenerator</span>&gt;</span>

        <span class="comment">&lt;!--数据库连接信息 --&gt;</span>
        <span class="tag">&lt;<span class="title">jdbcConnection</span> <span class="attribute">driverClass</span>=<span class="value">"${jdbc.driver}"</span> <span class="attribute">connectionURL</span>=<span class="value">"${jdbc.url}"</span> <span class="attribute">userId</span>=<span class="value">"${jdbc.username}"</span>
                        <span class="attribute">password</span>=<span class="value">"${jdbc.password}"</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">jdbcConnection</span>&gt;</span>

        <span class="comment">&lt;!--生成的model 包路径 --&gt;</span>
        <span class="tag">&lt;<span class="title">javaModelGenerator</span> <span class="attribute">targetPackage</span>=<span class="value">"${model.package}"</span> <span class="attribute">targetProject</span>=<span class="value">"${target.project}"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"enableSubPackages"</span> <span class="attribute">value</span>=<span class="value">"ture"</span>/&gt;</span>
            <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"trimStrings"</span> <span class="attribute">value</span>=<span class="value">"true"</span>/&gt;</span>
        <span class="tag">&lt;/<span class="title">javaModelGenerator</span>&gt;</span>

        <span class="comment">&lt;!--生成xml mapper文件 路径 --&gt;</span>
        <span class="tag">&lt;<span class="title">sqlMapGenerator</span> <span class="attribute">targetPackage</span>=<span class="value">"${xml.mapper.package}"</span> <span class="attribute">targetProject</span>=<span class="value">"${target.project}"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"enableSubPackages"</span> <span class="attribute">value</span>=<span class="value">"ture"</span>/&gt;</span>
        <span class="tag">&lt;/<span class="title">sqlMapGenerator</span>&gt;</span>

        <span class="comment">&lt;!-- 生成的Dao接口 的包路径 --&gt;</span>
        <span class="tag">&lt;<span class="title">javaClientGenerator</span> <span class="attribute">type</span>=<span class="value">"XMLMAPPER"</span> <span class="attribute">targetPackage</span>=<span class="value">"${dao.package}"</span> <span class="attribute">targetProject</span>=<span class="value">"${target.project}"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"enableSubPackages"</span> <span class="attribute">value</span>=<span class="value">"ture"</span>/&gt;</span>
        <span class="tag">&lt;/<span class="title">javaClientGenerator</span>&gt;</span>

        <span class="comment">&lt;!--对应数据库表名 --&gt;</span>
        <span class="tag">&lt;<span class="title">table</span> <span class="attribute">tableName</span>=<span class="value">"teacher"</span>&gt;</span>

        <span class="tag">&lt;/<span class="title">table</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">context</span>&gt;</span>
<span class="tag">&lt;/<span class="title">generatorConfiguration</span>&gt;</span>
</pre></td></tr></table></figure>

<p>4&gt; 运行maven - Run As Maven build</p>
<p>Goals 参数 : mybatis-generator:generate -Dmybatis.generator.overwrite=true</p>
<h3 id="实现需求二">实现需求二</h3>
<p>修改配置文件-generatorConfig.xml, 将table标签修改如下</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>	&lt;table tableName=<span class="string">"teacher"</span> enableCountByExample=<span class="string">"false"</span> 
		enableUpdateByExample=<span class="string">"false"</span> enableDeleteByExample=<span class="string">"false"</span> 
		enableSelectByExample=<span class="string">"false"</span> selectByExampleQueryId=<span class="string">"false"</span>&gt;
	&lt;/table&gt;
</pre></td></tr></table></figure>

<h3 id="实现需求三">实现需求三</h3>
<p>修改mybatis-generator源码</p>
<p>位置: <code>mybatis-generator-core/src/main/java/org/mybatis/generator/internal/DefaultCommentGenerator.java</code></p>
<p>修改该类的方法: addFieldComment</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="code"><pre>public void addFieldComment(Field field,
            IntrospectedTable introspectedTable,
            IntrospectedColumn introspectedColumn) {
        if (suppressAllComments) {
            return<span class="comment">;</span>
        }

        StringBuilder sb = new StringBuilder()<span class="comment">;</span>

        field<span class="preprocessor">.addJavaDocLine</span>(<span class="string">"/**"</span>)<span class="comment">; //$NON-NLS-1$</span>
//        field<span class="preprocessor">.addJavaDocLine</span>(<span class="string">" * This field was generated by MyBatis Generator."</span>)<span class="comment">; //$NON-NLS-1$</span>

        sb<span class="preprocessor">.append</span>(<span class="string">" *  "</span>)<span class="comment">; //$NON-NLS-1$</span>
        sb<span class="preprocessor">.append</span>(introspectedColumn<span class="preprocessor">.getRemarks</span>())<span class="comment">;</span>
        sb<span class="preprocessor">.append</span>(<span class="string">",所属表字段为"</span>)<span class="comment">;</span>
        sb<span class="preprocessor">.append</span>(introspectedTable<span class="preprocessor">.getFullyQualifiedTable</span>())<span class="comment">;</span>
        sb<span class="preprocessor">.append</span>(<span class="string">'.'</span>)<span class="comment">;</span>
        sb<span class="preprocessor">.append</span>(introspectedColumn<span class="preprocessor">.getActualColumnName</span>())<span class="comment">;</span>
        field<span class="preprocessor">.addJavaDocLine</span>(sb<span class="preprocessor">.toString</span>())<span class="comment">;</span>

//        addJavadocTag(field, false)<span class="comment">;</span>

        field<span class="preprocessor">.addJavaDocLine</span>(<span class="string">" */"</span>)<span class="comment">; //$NON-NLS-1$</span>
    }
</pre></td></tr></table></figure>

<p>如果不想修改源码, 可以下载<a href="https://github.com/arccode/mybatisn_generator_cn" target="_blank" rel="external">mybatis生成中文注释</a>项目, maven本地安装后在pom中配置version即可.</p>
<p>使用git克隆github项目</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="comment">// 克隆 parent</span>
git clone https:<span class="comment">//github.com/mybatis/parent.git</span>
<span class="comment">// 将该项目安装到本地maven库, mybatis-generator依赖于该项目</span>
mvn clean install <span class="attribute">-Dmaven</span><span class="built_in">.</span>test<span class="built_in">.</span><span class="keyword">skip</span><span class="subst">=</span><span class="literal">true</span>
<span class="comment">// 克隆 mybatis-generator</span>
git clone https:<span class="comment">//github.com/mybatis/generator.git</span>
<span class="comment">// 将该jar安装到本地, 之后项目中使用, 时间有点长, 可以喝杯咖啡</span>
mvn clean install <span class="attribute">-Dmaven</span><span class="built_in">.</span>test<span class="built_in">.</span><span class="keyword">skip</span><span class="subst">=</span><span class="literal">true</span>
</pre></td></tr></table></figure>

<p>碰到的问题:</p>
<ol>
<li>Could not find artifact com.sun:tools:jar:0 at specified path…</li>
</ol>
<p>平台: Mac</p>
<p>Jdk: 自带的jdk_1.6.0</p>
<p>解决办法: 安装jdk1.7, 该版本带有tools.jar</p>
<h2 id="最佳实践">最佳实践</h2>
<p>在以上三点需求完成后, 还可做以下修改使得开发更快更敏捷</p>
<ol>
<li>配置文件中commentGenerator配置项最好不要设置为不生成注释，因为这样带来的问题是在自动生成的代码上不会存在@mbggenerated 这样的标记，这个标记是用来标注这些代码是代码生成器生成的，如果关闭了注释，我们在多次使用mybatis generator重新生成代码时会导致在已有生成的文件上追加生成重复的内容，导致代码错误，故我建议如果你只生成一次代码，以后再不用工具生成可以关闭注释，如果会重复生成就要把注释开关打开。以下配置参数是关闭时间注释：</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">commentGenerator</span>&gt;</span>
	<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"suppressDate"</span> <span class="attribute">value</span>=<span class="value">"false"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">commentGenerator</span>&gt;</span>
</pre></td></tr></table></figure>

<h2 id="参考资料">参考资料</h2>
<p><a href="http://leeon.me/a/mybatis-generator-note" target="_blank" rel="external">MyBatis Generator使用小记</a></p>
<p><a href="http://blog.csdn.net/bluishglc/article/details/8721994" target="_blank" rel="external">为Maven指定tools.jar ，解决Missing artifact com.sun:tools:jar:1.5.0错误</a></p>
<p><a href="http://maven.apache.org/general.html#tools-jar-dependency" target="_blank" rel="external">Maven Frequently Asked Technical Questions</a></p>
<p><a href="http://my.oschina.net/huangyong/blog/195559" target="_blank" rel="external">使用 OSC Maven 第三方仓库</a></p>
<p><a href="http://www.cnphp6.com/archives/68863" target="_blank" rel="external">MYBATIS GENEATOR 详解</a></p>
<p><a href="https://github.com/sogyf/mybatisn_generator_cn" target="_blank" rel="external">mybatisn_generator_cn中文注释项目</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <time datetime="2014-12-26T15:56:41.000Z"><a href="/2014/12/26/初识Gradle系列一/">2014-12-26</a></time>
      
      
  
    <h1 class="title"><a href="/2014/12/26/初识Gradle系列一/">初识Gradle系列一</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="背景">背景</h2>
<p>以前听说过Gradle,也查阅过相关资料,自定义生命周期等等,比Maven牛X, 但Maven在项目中已经够用, 所以一直未做构建迁移.</p>
<p>今天业余搞点Android小应用, 经过对比, 最终选择了Android Studio(1.0.3), 该软件默认使用Gradle构建, 在此记录下使用历程及碰到的问题.</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2014/12/26/初识Gradle系列一/" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <time datetime="2014-10-30T03:02:34.000Z"><a href="/2014/10/30/Properties配置分离/">2014-10-30</a></time>
      
      
  
    <h1 class="title"><a href="/2014/10/30/Properties配置分离/">Properties配置分离</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="背景">背景</h2>
<p>目前公司从开发到发布一个版本的流程是本地开发环境(自测)-&gt;测试环境(测试人员)-&gt;灰度发布环境(测试人员+开发人员)-&gt;上线, 不同的环境配置的属性不同(例如: 数据库连接url, 用户名, 密码), 以下为我经历的阶段.</p>
<h3 id="阶段一:_将所有环境的配置信息写在一个文件中,_如db-properties">阶段一: 将所有环境的配置信息写在一个文件中, 如db.properties</h3>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2014/10/30/Properties配置分离/" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <time datetime="2014-10-30T02:37:35.000Z"><a href="/2014/10/30/Log4j配置/">2014-10-30</a></time>
      
      
  
    <h1 class="title"><a href="/2014/10/30/Log4j配置/">Log4j配置</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="在Java_Web项目中配置Log4j">在Java Web项目中配置Log4j</h2>
<h3 id="示例文件">示例文件</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre></td><td class="code"><pre><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="doctype">&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd" &gt;</span>
<span class="tag">&lt;<span class="title">log4j:configuration</span> <span class="attribute">xmlns:log4j</span>=<span class="value">"http://jakarta.apache.org/log4j/"</span>&gt;</span>

	<span class="comment">&lt;!-- Appenders --&gt;</span>
	<span class="tag">&lt;<span class="title">appender</span> <span class="attribute">name</span>=<span class="value">"console"</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.ConsoleAppender"</span>&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"Target"</span> <span class="attribute">value</span>=<span class="value">"System.out"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">layout</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.PatternLayout"</span>&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"ConversionPattern"</span> <span class="attribute">value</span>=<span class="value">"[%p] %d{yyyy-MM-dd HH:mm:ss:SSS} [%l] %m%n"</span> /&gt;</span>
		<span class="tag">&lt;/<span class="title">layout</span>&gt;</span>
	<span class="tag">&lt;/<span class="title">appender</span>&gt;</span>

	<span class="tag">&lt;<span class="title">appender</span> <span class="attribute">name</span>=<span class="value">"FILE-INFO"</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.DailyRollingFileAppender"</span>&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"File"</span> <span class="attribute">value</span>=<span class="value">"/home/ad/logs/ad-quartz-info-db.log"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"Append"</span> <span class="attribute">value</span>=<span class="value">"true"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"ImmediateFlush"</span> <span class="attribute">value</span>=<span class="value">"true"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"DatePattern"</span> <span class="attribute">value</span>=<span class="value">".yyyy-MM-dd"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"BufferSize"</span> <span class="attribute">value</span>=<span class="value">"500"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">layout</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.PatternLayout"</span>&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"ConversionPattern"</span> <span class="attribute">value</span>=<span class="value">"[%p] %d{yyyy-MM-dd HH:mm:ss:SSS} [%l] %m%n"</span> /&gt;</span>
		<span class="tag">&lt;/<span class="title">layout</span>&gt;</span>
		<span class="tag">&lt;<span class="title">filter</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.varia.LevelRangeFilter"</span>&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"LevelMin"</span> <span class="attribute">value</span>=<span class="value">"DEBUG"</span> /&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"LevelMax"</span> <span class="attribute">value</span>=<span class="value">"INFO"</span> /&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"acceptOnMatch"</span> <span class="attribute">value</span>=<span class="value">"false"</span> /&gt;</span>
		<span class="tag">&lt;/<span class="title">filter</span>&gt;</span>
	<span class="tag">&lt;/<span class="title">appender</span>&gt;</span>

	<span class="tag">&lt;<span class="title">appender</span> <span class="attribute">name</span>=<span class="value">"FILE-WARN"</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.DailyRollingFileAppender"</span>&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"File"</span> <span class="attribute">value</span>=<span class="value">"/home/ad/logs/ad-quartz-warn-db.log"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"Append"</span> <span class="attribute">value</span>=<span class="value">"true"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"ImmediateFlush"</span> <span class="attribute">value</span>=<span class="value">"true"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"DatePattern"</span> <span class="attribute">value</span>=<span class="value">".yyyy-MM-dd"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"BufferSize"</span> <span class="attribute">value</span>=<span class="value">"500"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">layout</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.PatternLayout"</span>&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"ConversionPattern"</span> <span class="attribute">value</span>=<span class="value">"[%p] %d{yyyy-MM-dd HH:mm:ss:SSS} [%l] %m%n"</span> /&gt;</span>
		<span class="tag">&lt;/<span class="title">layout</span>&gt;</span>
		<span class="tag">&lt;<span class="title">filter</span> <span class="attribute">class</span>=<span class="value">"org.apache.log4j.varia.LevelRangeFilter"</span>&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"LevelMin"</span> <span class="attribute">value</span>=<span class="value">"WARN"</span> /&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"LevelMax"</span> <span class="attribute">value</span>=<span class="value">"FATAL"</span> /&gt;</span>
			<span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">"acceptOnMatch"</span> <span class="attribute">value</span>=<span class="value">"false"</span> /&gt;</span>
		<span class="tag">&lt;/<span class="title">filter</span>&gt;</span>
	<span class="tag">&lt;/<span class="title">appender</span>&gt;</span>


	<span class="comment">&lt;!-- Root Logger --&gt;</span>
	<span class="tag">&lt;<span class="title">root</span>&gt;</span>
		<span class="tag">&lt;<span class="title">priority</span> <span class="attribute">value</span>=<span class="value">"debug"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">appender-ref</span> <span class="attribute">ref</span>=<span class="value">"console"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">appender-ref</span> <span class="attribute">ref</span>=<span class="value">"FILE-INFO"</span> /&gt;</span>
		<span class="tag">&lt;<span class="title">appender-ref</span> <span class="attribute">ref</span>=<span class="value">"FILE-WARN"</span> /&gt;</span>
	<span class="tag">&lt;/<span class="title">root</span>&gt;</span>

<span class="tag">&lt;/<span class="title">log4j:configuration</span>&gt;</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2014/10/30/Log4j配置/" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <ul class="page-direction" id="page-direction">
    <li><a class="page-prev icon-chevron-sign-left" href="javascript:;" title="上一页"></a></li>
    <li><a class="page-next icon-chevron-sign-right" href="javascript:;" title="下一页"></a></li>
</ul>

<nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="text" name="q" results="0" placeholder="搜一下">
    <i class="icon-search"></i>
    <input type="hidden" name="q" value="site:arccode.net">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Android/">Android</a><small>9</small></li>
  
    <li><a href="/categories/Java/">Java</a><small>4</small></li>
  
    <li><a href="/categories/Javascript/">Javascript</a><small>3</small></li>
  
    <li><a href="/categories/Linux/">Linux</a><small>2</small></li>
  
    <li><a href="/categories/NoSQL(缓存)/">NoSQL(缓存)</a><small>3</small></li>
  
    <li><a href="/categories/中间件/">中间件</a><small>2</small></li>
  
    <li><a href="/categories/云计算/">云计算</a><small>1</small></li>
  
    <li><a href="/categories/学习资料/">学习资料</a><small>2</small></li>
  
    <li><a href="/categories/工具/">工具</a><small>6</small></li>
  
    <li><a href="/categories/指令/">指令</a><small>2</small></li>
  
    <li><a href="/categories/操作系统/">操作系统</a><small>1</small></li>
  
    <li><a href="/categories/数据挖掘/">数据挖掘</a><small>3</small></li>
  
    <li><a href="/categories/链接/">链接</a><small>1</small></li>
  
    <li><a href="/categories/问题集锦/">问题集锦</a><small>1</small></li>
  
    <li><a href="/categories/队列/">队列</a><small>1</small></li>
  
    <li><a href="/categories/随笔/">随笔</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Android/">Android</a><small>1</small></li>
  
    <li><a href="/tags/AngularJS/">AngularJS</a><small>1</small></li>
  
    <li><a href="/tags/CSS/">CSS</a><small>1</small></li>
  
    <li><a href="/tags/Eclipse/">Eclipse</a><small>1</small></li>
  
    <li><a href="/tags/ExpressJS/">ExpressJS</a><small>1</small></li>
  
    <li><a href="/tags/Gradle/">Gradle</a><small>1</small></li>
  
    <li><a href="/tags/HBase/">HBase</a><small>1</small></li>
  
    <li><a href="/tags/HTML/">HTML</a><small>1</small></li>
  
    <li><a href="/tags/Hadoop/">Hadoop</a><small>2</small></li>
  
    <li><a href="/tags/Kafka/">Kafka</a><small>1</small></li>
  
    <li><a href="/tags/Linux/">Linux</a><small>1</small></li>
  
    <li><a href="/tags/Linux类库/">Linux类库</a><small>1</small></li>
  
    <li><a href="/tags/Log/">Log</a><small>1</small></li>
  
    <li><a href="/tags/Log4j/">Log4j</a><small>1</small></li>
  
    <li><a href="/tags/Mac/">Mac</a><small>2</small></li>
  
    <li><a href="/tags/Maven/">Maven</a><small>2</small></li>
  
    <li><a href="/tags/Memcached/">Memcached</a><small>1</small></li>
  
    <li><a href="/tags/MongoDB/">MongoDB</a><small>2</small></li>
  
    <li><a href="/tags/MyBatis/">MyBatis</a><small>1</small></li>
  
    <li><a href="/tags/NodeJS/">NodeJS</a><small>2</small></li>
  
    <li><a href="/tags/Properties/">Properties</a><small>1</small></li>
  
    <li><a href="/tags/Redis/">Redis</a><small>3</small></li>
  
    <li><a href="/tags/Spark/">Spark</a><small>1</small></li>
  
    <li><a href="/tags/Storm/">Storm</a><small>1</small></li>
  
    <li><a href="/tags/Svn/">Svn</a><small>2</small></li>
  
    <li><a href="/tags/UI/">UI</a><small>6</small></li>
  
    <li><a href="/tags/VitualBox/">VitualBox</a><small>1</small></li>
  
    <li><a href="/tags/Web/">Web</a><small>1</small></li>
  
    <li><a href="/tags/Zookeeper/">Zookeeper</a><small>2</small></li>
  
    <li><a href="/tags/反编译/">反编译</a><small>1</small></li>
  
    <li><a href="/tags/名词解释/">名词解释</a><small>1</small></li>
  
    <li><a href="/tags/大数据/">大数据</a><small>1</small></li>
  
    <li><a href="/tags/线程/">线程</a><small>1</small></li>
  
    <li><a href="/tags/进程/">进程</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2015/02/07/MyBatis-Generator使用/">MyBatis-Generator使用</a>
      </li>
    
      <li>
        <a href="/2015/02/04/UtilmateAndroid-demo效果图文档/">UtilmateAndroid-demo效果图文档</a>
      </li>
    
      <li>
        <a href="/2015/02/03/UtilmateAndroid-demo效果图文档-一/">UtilmateAndroid-demo效果图文档-一</a>
      </li>
    
      <li>
        <a href="/2015/02/03/UtilmateAndroid-demo效果图文档-二/">UtilmateAndroid-demo效果图文档-二</a>
      </li>
    
      <li>
        <a href="/2015/02/03/UtilmateAndroid-demo效果图文档-三/">UtilmateAndroid-demo效果图文档-三</a>
      </li>
    
      <li>
        <a href="/2015/02/03/UtilmateAndroid-demo效果图文档-四/">UtilmateAndroid-demo效果图文档-四</a>
      </li>
    
      <li>
        <a href="/2015/02/03/UtilmateAndroid-demo效果图文档-五/">UtilmateAndroid-demo效果图文档-五</a>
      </li>
    
      <li>
        <a href="/2015/01/07/大数据参考资料/">大数据参考资料</a>
      </li>
    
      <li>
        <a href="/2015/01/07/Web参考资料/">Web参考资料</a>
      </li>
    
      <li>
        <a href="/2014/12/31/Android学习-序/">Android学习-序</a>
      </li>
    
      <li>
        <a href="/2014/12/30/Android名词解释/">Android名词解释</a>
      </li>
    
      <li>
        <a href="/2014/12/27/Mac下反编译Android安装包/">Mac下反编译Android安装包</a>
      </li>
    
  </ul>
</div>


  <div class="widget tag">
  <h3 class="title">友情链接</h3>
    <ul class="entry">
      <li><a href="http://www.ruanyifeng.com/blog" target="_blank" title="阮一峰的网络日志">阮一峰的网络日志</a></li>
      <li><a href="http://stormzhang.com" target="_blank" title="stormzhang">stormzhang</a></li>
      <li><a href="http://www.trinea.cn/" target="_blank" title="stormzhang">Trinea</a></li>
      <li><a href="http://www.importnew.com/" target="_blank" title="ImportNew">ImportNew</a></li>
    </ul>
</div>
</aside>
    <div class="clearfix"></div>
  </div>
  <div id="go-pg-top"><i class="icon-arrow-up"></i></div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 arccode
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>






<script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fcc881a935ecd2c2a0fe30651210e7117' type='text/javascript'%3E%3C/script%3E"));
</script>


<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52770645-1', 'arccode.net');
  ga('send', 'pageview');

</script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/page.js"></script>

</body>

</html>